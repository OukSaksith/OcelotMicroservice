@page "/clazz/add"
@inject NavigationManager NavigationManager
@inject ApiService ApiService
@using WebUI.Components.Models


<h3>Class Management - ADD</h3>

<EditForm Model="newClazz" OnValidSubmit="SubmitAsync">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="mb-3">
        <label>Title</label>
        <input class="form-control" @bind="newClazz.Title" />
    </div>
    <div class="mb-3">
        <label>Description</label>
        <input class="form-control" @bind="newClazz.Description" />
    </div>
    <div class="mb-3">
        <label>Capacity</label>
        <input class="form-control" @bind="newClazz.Capacity" />
    </div>

 

    <button type="submit" class="btn btn-primary">Save</button>
    <button class="btn btn-secondary" @onclick="Cancel">Cancel</button>
</EditForm>

@code {

    private ClazzModel newClazz = new ClazzModel();
    private async Task SubmitAsync()
    {
        bool success = await ApiService.SubmitClazzAsync(newClazz);
        if (success)
        {
            // message = "Student submitted successfully!";
            NavigationManager.NavigateTo("/clazz");
        }
        else
        {
            // message = "Failed to submit student.";
        }
    }

    private void Cancel()
    {
        NavigationManager.NavigateTo("/clazz"); // Cancel and go back
    }

}
